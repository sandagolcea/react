<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>First Look</title>
  <script src="https://fb.me/react-0.13.3.js"></script>
  <script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
</head>
<body>
  <div id="main-list"></div>

  <script type='text/jsx'>

  var Recipe = React.createClass({
    getInitialState: function () {
      console.log(this.props);
      return null;
    },
    render: function () {
      return (
        <div>
          <h3>{this.props.title}</h3>
          <p>{this.props.description}</p>
        </div>
      );
    }
  });

  var RecipeList = React.createClass({
    render: function () {
      var recipeNodes = this.props.data.map(function (recipe, index) {
      return (
          <Recipe
            key = {index}
            title = {recipe.title}
            description = {recipe.description}
          />
      )
    })
    return (
      <div>
        RecipeList.
        {recipeNodes}
      </div>
    )
    }
  });

  var RecipeForm = React.createClass({
    render: function () {
      return (
        <div>
          <h4>Recipe form</h4>
        </div>
      );
    }
  });

  var RecipeBook = React.createClass({
  render: function () {
    return (
      <div>
        <h2>Hello world, I am a RecipeBook</h2>
        <RecipeList data = {this.props.data}/>
        <RecipeForm />
      </div>
    );
  }
});

  window.recipeData = [
    {title: "Carbonara", description: "A traditional italian pasta dish, made with eggs, bacon and other ingredients"},
    {title: "Quiche", description: "French dish that has a base pate-sable and a creamy mixture of creme fraiche with regional ingredients"}
  ]
  React.render(
    <RecipeBook data = {window.recipeData}/>, 
      document.getElementById('main-list')
  );

  </script>
</body>
</html>